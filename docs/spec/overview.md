# Clean Extract 项目概述

## 项目简介

Clean Extract 是一个用于批量解压和清理压缩文件的命令行工具。它能够智能地处理ZIP、RAR、ISO格式的压缩文件，根据配置的优先级策略保留特定扩展名的文件，并将其他文件移动到`.remove`目录中。

## 核心功能

### 1. 批量处理
- 递归扫描指定目录下的所有压缩文件
- 支持的格式：ZIP、RAR、ISO
- 串行处理机制，避免内存占用过高

### 2. 智能解压
- 自动检测已解压目录，支持手工解压后的场景
- 智能处理中文文件名编码问题
- 7z命令集成，支持大文件ISO处理

### 3. 优先级清理
- 基于配置的文件扩展名优先级系统
- 同名多版本文件按优先级保留最优版本
- 非保留文件自动移动到`.remove`目录

### 4. 清单生成
- 生成CSV格式的文件清单
- 记录源压缩文件和目标文件的映射关系
- 便于后续审计和追踪

## 设计原则

### Linus式设计理念
1. **好品味优先** - 简洁的数据结构，消除特殊情况
2. **永不破坏用户空间** - 完全向后兼容，零破坏性重构
3. **实用主义** - 解决实际问题，避免过度设计
4. **简洁执念** - 每个模块单一职责，代码简洁明了

### 核心数据结构
- **Config** - 配置管理，定义保留策略
- **ManifestEntry** - 文件清单记录
- **ProcessStats** - 处理统计信息

### 数据流设计
```
配置加载 → 压缩文件扫描 → 智能解压 → 优先级清理 → 清单生成
```

## 技术特性

### 性能优化
- 串行处理，避免内存累积
- 文件流式处理，支持大文件
- 智能跳过已处理内容

### 健壮性
- 完善的错误处理机制
- 详细的日志记录系统
- 优雅的失败恢复

### 兼容性
- 跨平台支持（Windows、macOS、Linux）
- 多种压缩格式支持
- 中文文件名智能处理

## 使用场景

1. **游戏资源管理** - 解压游戏MOD，按优先级保留最优文件
2. **软件包清理** - 处理多语言安装包，保留需要的语言文件
3. **数据归档** - 批量处理压缩数据，提取关键文件
4. **开发环境管理** - 解压依赖包，清理不需要的文件类型

## 项目价值

- **效率提升** - 自动化处理大量压缩文件
- **存储优化** - 智能清理，减少存储空间占用
- **标准化** - 统一的处理流程和输出格式
- **可维护性** - 模块化设计，易于扩展和维护